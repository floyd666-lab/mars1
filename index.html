<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <title>–ú–∞—Ä—Å–µ–ª—å & –†—É—Ö—Å–æ—Ä–∞ –ø—Ä–∏–≥–ª–∞—à–∞—é—Ç –≤–∞—Å –Ω–∞ —Å–≤–∞–¥—å–±—É</title>
  <meta name="robots" content="noindex, nofollow">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Cormorant+Garamond:wght@400;600&family=Montserrat:wght@300;400;500;600&family=Libre+Baskerville:wght@400;700&display=swap" rel="stylesheet">

  <style>
    /* =========================
       GLOBAL
    ========================== */
    *, *::before, *::after {
      box-sizing: border-box;
    }

    :root {
      --bg-main: #6f0f1c;
      --card-bg: #f8f2ef;

      --accent: #6F0F1C;
      --accent-light: #8A1C2C;
      --gold: #C6A46A;

      --text-dark: #111111;
      --text-soft: #444444;

      --black: #000000;

      --dress-1: #ffffff;
      --dress-2: #000000;
      --dress-3: #e6d6c8;
      --dress-4: #9b8e84;
      --dress-5: #6f0f1c;
    }

    body {
      margin: 0;
      font-family: 'Montserrat', sans-serif;
      background: var(--bg-main);
      color: var(--text-dark);
      min-height: 100vh;
    }

    .container {
      max-width: 420px;
      margin: auto;
      padding-bottom: 60px;
    }

    /* =========================
       LANGUAGE SWITCH
    ========================== */
    .lang-switch {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 9999;
      display: flex;
      gap: 10px;
      background: rgba(0,0,0,0.4);
      padding: 6px 12px;
      border-radius: 20px;
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
    }

    .lang-switch span {
      cursor: pointer;
      color: white;
      opacity: 0.6;
      transition: 0.3s;
      font-size: 13px;
    }

    .lang-switch span.active {
      opacity: 1;
      font-weight: 600;
    }

    /* =========================
       SECTIONS
    ========================== */
    .section {
      padding: 60px 24px;
      text-align: center;
      background: var(--card-bg);
      margin: 30px 16px;
      border-radius: 24px;
      box-shadow: 0 12px 40px rgba(0,0,0,0.25);

      opacity: 0;
      transform: translateY(40px);
      transition: 0.9s ease;
    }

    .section.visible {
      opacity: 1;
      transform: translateY(0);
    }

    .title {
      font-family: 'Cormorant Garamond', serif;
      font-size: 30px;
      color: var(--accent);
      margin-bottom: 25px;
      letter-spacing: 1px;
      font-weight: 600;
    }

    /* =========================
       HERO POSTER
    ========================== */
    .hero-poster {
      max-width: 420px;
      margin: 30px auto;
      border-radius: 26px;
      overflow: hidden;
      background: var(--card-bg);
      box-shadow: 0 12px 40px rgba(0,0,0,0.25);
      font-family: 'Libre Baskerville', serif;
      position: relative;
    }

    .poster-photo img {
      width: 100%;
      height: 520px;
      object-fit: cover;
      display: block;
      filter: grayscale(0.2) contrast(1.05);
    }

    .poster-info {
      padding: 26px 26px 30px;
    }

    .poster-top {
      display: flex;
      gap: 18px;
      align-items: flex-start;
    }

    .poster-date {
      display: flex;
      flex-direction: column;
      align-items: center;
      min-width: 60px;

      font-family: 'Playfair Display', serif;
      color: var(--accent);
      line-height: 1;

      transform: translateY(-29px);
    }

    .poster-day {
      font-size: 47px;
      font-weight: 600;
    }

    .poster-month,
    .poster-year {
      font-size: 37px;
      font-weight: 600;
      margin-top: 2px;
    }

    .poster-text {
      flex: 1;
      color: #333;
      text-align: left;
      max-width: 280px;
      transform: translateY(-20px);
    }

    .poster-invite {
      font-family: 'Cormorant Garamond', serif;
      font-style: italic;
      font-size: 16px;
      line-height: 1.5;
      color: var(--text-soft);
      opacity: 0.9;
    }

    .poster-names {
      margin-top: 22px;
      text-align: center;
      position: relative;
      padding: 20px 0;
    }

    .poster-names::before {
      content: "";
      position: absolute;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      width: 90px;
      height: 90px;
      background: url("photos/ampersand.png") center/contain no-repeat;
      opacity: 0.55;
      z-index: 0;
    }

    .poster-name {
      font-size: 34px;
      display: block;
      font-weight: 400;
      letter-spacing: 3px;
      text-transform: uppercase;
      margin: 0;
      line-height: 1.1;
      position: relative;
      z-index: 2;
    }

    .poster-name:first-child {
      margin-bottom: 27px;
    }

    /* top badge */
    .top-badge {
      position: absolute;
      top: calc(env(safe-area-inset-top) + 14px);
      left: 50%;
      transform: translateX(-50%);
      z-index: 10;

      background: rgba(248, 242, 239, 0.95);
      border: 1px solid rgba(0,0,0,0.08);
      border-radius: 6px;

      padding: 6px 14px;
      text-align: center;

      font-family: 'Libre Baskerville', serif;
      color: #111;

      box-shadow: 0 6px 18px rgba(0,0,0,0.12);
    }

    .top-badge-date {
      font-size: 12px;
      letter-spacing: 2px;
      font-weight: 700;
    }

    .top-badge-city {
      margin-top: 4px;
      font-size: 10px;
      letter-spacing: 3px;
      opacity: 0.7;
      font-weight: 400;
    }

    /* mobile */
    @media (max-width: 480px) {
      .poster-name {
        font-size: 22px;
        letter-spacing: 2px;
      }

      .poster-name:first-child {
        margin-bottom: 25px;
      }

      .poster-photo img {
        height: 470px;
      }
    }

    /* =========================
       DIVIDER
    ========================== */
    .divider {
      width: 140px;
      height: 1px;
      margin: 45px auto;
      background: linear-gradient(90deg, transparent, var(--gold), transparent);
      position: relative;
    }

    .divider::before {
      content: "‚ù¶";
      position: absolute;
      top: -14px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 26px;
      color: var(--gold);
      background: transparent;
    }

    /* =========================
       GALLERY
    ========================== */
    .gallery {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 14px;
      margin-top: 30px;
    }

    .gallery img {
      width: 100%;
      height: 240px;
      border-radius: 18px;
      object-fit: cover;
      opacity: 0;
      transform: scale(0.95) translateY(30px);
      transition: 0.8s ease;
    }

    .section.visible .gallery img {
      opacity: 1;
      transform: scale(1) translateY(0);
    }

    .section.visible .gallery img:nth-child(1) { transition-delay: 0.1s; }
    .section.visible .gallery img:nth-child(2) { transition-delay: 0.3s; }

    /* =========================
       STORY
    ========================== */
    .story-section {
      cursor: pointer;
    }

    .story-inner {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.8s ease;
    }

    .story-section.open .story-inner {
      max-height: 2000px;
      margin-top: 25px;
    }

    .story-text {
      line-height: 1.7;
      margin-bottom: 20px;
      color: #333;
    }

    .story-close {
      display: block;
      margin: 20px auto 0;
      padding: 12px 30px;
      border-radius: 30px;
      border: none;
      background: linear-gradient(135deg, var(--accent), var(--gold));
      color: white;
      cursor: pointer;
    }

    /* =========================
       COUPLE
    ========================== */
    .couple {
      display: flex;
      justify-content: center;
      gap: 40px;
      margin-top: 40px;
    }

    .person {
      text-align: center;
      max-width: 160px;
      opacity: 0;
      transform: translateY(40px);
      transition: 0.8s ease;
    }

    .section.visible .person {
      opacity: 1;
      transform: translateY(0);
    }

    .section.visible .person:nth-child(1) { transition-delay: 0.1s; }
    .section.visible .person:nth-child(2) { transition-delay: 0.4s; }

    .frame {
      width: 160px;
      height: 160px;
      padding: 4px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--gold), var(--accent), var(--gold));
      box-shadow: 0 12px 35px rgba(0,0,0,0.35);
      margin: auto;
      overflow: hidden;
      transition: 0.5s ease;
    }

    .frame img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 50%;
      transition: 0.5s ease;
    }

    .frame:hover img {
      transform: scale(1.08);
    }

    .frame:hover {
      box-shadow: 0 18px 50px rgba(0,0,0,0.45);
      transform: translateY(-6px);
    }

    .name {
      margin-top: 16px;
      font-family: 'Playfair Display', serif;
      font-size: 22px;
      color: var(--accent);
      letter-spacing: 1px;
    }

    .role {
      margin-top: 6px;
      font-family: 'Cormorant Garamond', serif;
      font-size: 18px;
      font-style: italic;
      color: #555;
    }

    @media (max-width: 480px) {
      .frame {
        width: 130px;
        height: 130px;
      }

      .couple {
        gap: 22px;
      }

      .name {
        font-size: 20px;
      }

      .role {
        font-size: 16px;
      }
    }

    /* =========================
       DRESS COLORS
    ========================== */
    .colors {
      display: flex;
      justify-content: center;
      gap: 16px;
      margin-top: 24px;
      flex-wrap: wrap;
    }

    .color {
      width: 44px;
      height: 44px;
      border-radius: 50%;
      position: relative;
      cursor: pointer;
      transition: transform 0.35s ease, box-shadow 0.35s ease;
      box-shadow: 0 6px 18px rgba(0,0,0,0.25);
    }

    .color:hover {
      transform: translateY(-6px) scale(1.08);
      box-shadow: 0 12px 28px rgba(0,0,0,0.35);
    }

    /* tooltip */
    .color::after {
      content: attr(data-name);
      position: absolute;
      bottom: -34px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0,0,0,0.75);
      color: #fff;
      font-size: 11px;
      padding: 4px 8px;
      border-radius: 10px;
      opacity: 0;
      white-space: nowrap;
      pointer-events: none;
      transition: 0.3s ease;
    }

    .color:hover::after {
      opacity: 1;
    }

    /* =========================
       SCHEDULE
    ========================== */
    .schedule-list {
      max-width: 360px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      gap: 14px;
    }

    .schedule-item {
      display: grid;
      grid-template-columns: 72px 1fr;
      align-items: center;

      opacity: 0;
      transform: translateY(10px);
      transition: opacity 0.5s ease, transform 0.5s ease;
    }

    .schedule-item.show {
      opacity: 1;
      transform: translateY(0);
    }

    .schedule-time {
      font-family: 'Playfair Display', serif;
      font-size: 16px;
      font-weight: 500;
      color: var(--accent);
    }

    .schedule-event {
      font-family: 'Montserrat', sans-serif;
      font-size: 15px;
      line-height: 1.5;
      color: #3f3f3f;
    }

    @media (max-width: 480px) {
      .schedule-item {
        grid-template-columns: 64px 1fr;
      }

      .schedule-time {
        font-size: 15px;
      }

      .schedule-event {
        font-size: 14px;
      }
    }

    /* =========================
       MAP
    ========================== */
    .map-box {
      margin-top: 20px;
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 10px 30px rgba(0,0,0,0.15);
    }

    .map-box iframe {
      width: 100%;
      height: 280px;
      border: none;
    }

    /* =========================
       MUSIC BUTTON
    ========================== */
    .music-btn {
      position: fixed;
      bottom: 24px;
      right: 24px;
      z-index: 999999;

      padding: 14px 26px;
      border-radius: 999px;

      background: linear-gradient(
        135deg,
        var(--accent) 0%,
        var(--accent-light) 45%,
        var(--gold) 100%
      );

      color: #fff;
      font-weight: 500;
      font-size: 14px;
      letter-spacing: 0.4px;

      cursor: pointer;
      user-select: none;

      box-shadow:
        0 8px 24px rgba(111, 15, 28, 0.35),
        inset 0 0 0 1px rgba(255,255,255,0.15);

      transition: transform 0.25s ease, box-shadow 0.25s ease, filter 0.25s ease;
    }

    .music-btn:hover {
      transform: translateY(-2px) scale(1.03);
      box-shadow:
        0 14px 36px rgba(111, 15, 28, 0.45),
        inset 0 0 0 1px rgba(255,255,255,0.25);
      filter: brightness(1.05);
    }

    .music-btn:active {
      transform: translateY(0) scale(0.98);
    }

    /* =========================
       RSVP
    ========================== */
    .rsvp-section {
      background: var(--card-bg);
      border-radius: 24px;
      padding: 60px 24px;
      box-shadow: 0 12px 40px rgba(0,0,0,0.25);
      max-width: 420px;
      margin: 30px auto;
    }

    .rsvp-title {
      text-align: center;
      font-size: 22px;
      margin-bottom: 24px;
      font-family: 'Cormorant Garamond', serif;
      color: var(--accent);
    }

    .rsvp-form {
      display: flex;
      flex-direction: column;
      gap: 14px;
    }

    .rsvp-form input,
    .rsvp-form select,
    .rsvp-form textarea {
      width: 100%;
      padding: 13px 14px;
      border-radius: 14px;
      border: 1px solid #d8cfc8;
      font-size: 15px;
      font-family: inherit;
    }

    .rsvp-form textarea {
      resize: none;
    }

    .rsvp-submit {
      margin: 24px auto 0;
      display: block;
      width: 70%;
      max-width: 260px;
      padding: 14px 0;
      border-radius: 999px;
      border: none;
      font-size: 15px;
      font-weight: 500;
      letter-spacing: 0.4px;
      color: #fff;
      cursor: pointer;

      background: linear-gradient(
        135deg,
        var(--accent) 0%,
        var(--accent-light) 45%,
        var(--gold) 100%
      );

      box-shadow:
        0 10px 26px rgba(111, 15, 28, 0.35),
        inset 0 0 0 1px rgba(255,255,255,0.15);

      transition: transform 0.25s ease, box-shadow 0.25s ease, filter 0.25s ease;
    }

    .rsvp-submit:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      filter: grayscale(0.6);
    }

    /* =========================
       RSVP ATTENDANCE BUTTONS
    ========================== */
    .attendance-choice {
      display: flex;
      justify-content: center;
      gap: 60px;
      margin: 26px 0 18px;
    }

    .choice-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;

      cursor: pointer;
      user-select: none;
      transition: 0.25s ease;
    }

    .choice-item svg {
      width: 64px;
      height: 64px;
      fill: none;
      stroke: #d8dbe3;
      stroke-width: 1.8;
      transition: 0.25s ease;
    }

    .choice-item span {
      font-size: 13px;
      text-align: center;
      color: #8b8f99;
      line-height: 1.35;
      transition: 0.25s ease;
    }

    .choice-item.active.yes svg {
      stroke: #e04a4a;
    }

    .choice-item.active.yes span {
      color: #e04a4a;
    }

    .choice-item.active.no svg {
      stroke: #374151;
    }

    .choice-item.active.no span {
      color: #374151;
    }

    /* =========================
       THANK YOU OVERLAY
    ========================== */
    .thank-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.55);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 99999;
      opacity: 0;
      pointer-events: none;
      transition: 0.6s ease;
    }

    .thank-overlay.show {
      opacity: 1;
      pointer-events: auto;
    }

    .thank-box {
      background: white;
      padding: 40px 30px;
      border-radius: 24px;
      font-family: 'Playfair Display', serif;
      font-size: 26px;
      color: var(--accent);
      text-align: center;
      max-width: 300px;
      animation: pop 0.8s ease;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
    }

    @keyframes pop {
      0% { transform: scale(0.5); opacity: 0; }
      100% { transform: scale(1); opacity: 1; }
    }

    .close-btn {
      margin: 25px auto 0 auto;
      display: block;
      padding: 12px 30px;
      border-radius: 30px;
      border: none;
      background: linear-gradient(135deg, var(--accent), var(--gold));
      color: white;
      font-size: 15px;
      cursor: pointer;
      box-shadow: 0 6px 20px rgba(0,0,0,0.25);
      transition: 0.3s ease;
    }

    .close-btn:hover {
      transform: scale(1.05);
      box-shadow: 0 10px 30px rgba(0,0,0,0.35);
    }

    /* =========================
       CONFETTI CANVAS
    ========================== */
    #confettiCanvas {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 99998;
    }
      

.dress2 { background: var(--dress-2); }
.dress3 { background: var(--dress-3); }
.dress4 { background: var(--dress-4); }
.dress5 { background: var(--dress-5); }
      
  </style>
</head>

<body>

  <!-- Language Switch -->
  <div class="lang-switch">
    <span onclick="setLang('ru')" id="lang-ru">RU</span>
    <span onclick="setLang('uz')" id="lang-uz">UZ</span>
    <span onclick="setLang('en')" id="lang-en">EN</span>
  </div>

  <div class="container">

    <!-- HERO POSTER -->
    <div class="hero-poster">

      <div class="top-badge">
        <div class="top-badge-date">11¬∑04¬∑26</div>
        <div class="top-badge-city">TASHKENT</div>
      </div>

      <div class="poster-photo">
        <img src="photos/main.jpg" alt="Wedding photo">
      </div>

      <div class="poster-info">

        <div class="poster-top">
          <div class="poster-date">
            <div class="poster-day">11</div>
            <div class="poster-month">04</div>
            <div class="poster-year">26</div>
          </div>

          <div class="poster-text">
            <div class="poster-invite" id="posterInvite"></div>
          </div>
        </div>

        <div class="poster-names">
          <div class="poster-name">–ú–∞—Ä—Å–µ–ª—å</div>
          <div class="poster-name">–†—É—Ö—Å–æ—Ä–∞</div>
        </div>

      </div>
    </div>

    <!-- STORY -->
    <div class="section story-section" id="story" onclick="toggleStory(this)">
      <div class="title" id="storyTitle"></div>

      <div class="story-inner">
        <p class="story-text" id="storyText"></p>

        <div class="gallery">
          <img src="photos/photo1.jpg" alt="">
          <img src="photos/photo2.jpg" alt="">
        </div>

        <button class="story-close" onclick="event.stopPropagation(); toggleStory(this.closest('.story-section'));">
          –ó–∞–∫—Ä—ã—Ç—å
        </button>
      </div>
    </div>

    <div class="divider"></div>

    <!-- COUPLE -->
    <div class="section couple-section">
      <div class="title" id="coupleTitle"></div>

      <div class="couple">
        <div class="person">
          <div class="frame">
            <img src="photos/groom.jpg" alt="Groom">
          </div>
          <div class="name">–ú–∞—Ä—Å–µ–ª—å</div>
          <div class="role" id="groomRole"></div>
        </div>

        <div class="person">
          <div class="frame">
            <img src="photos/bride.jpg" alt="Bride">
          </div>
          <div class="name">–†—É—Ö—Å–æ—Ä–∞</div>
          <div class="role" id="brideRole"></div>
        </div>
      </div>
    </div>

    <div class="divider"></div>

    <!-- GIFTS -->
    <div class="section">
      <div class="title" id="giftsTitle"></div>
      <p id="giftsText"></p>
    </div>

    <div class="divider"></div>

    <!-- DRESS CODE -->
    <div class="section">
      <div class="title" id="dressTitle"></div>
      <p id="dressText"></p>

<div class="colors">
  <div class="color dress2" data-name="Black"></div>
  <div class="color dress3" data-name="Dusty Rose"></div>
  <div class="color dress4" data-name="Taupe"></div>
  <div class="color dress5" data-name="Wine"></div>
</div>
    </div>

    <div class="divider"></div>

    <!-- SCHEDULE -->
    <div class="section">
      <div class="title" id="scheduleTitle"></div>

      <div class="schedule-list">
        <div class="schedule-item" data-key="schedule1"></div>
        <div class="schedule-item" data-key="schedule2"></div>
        <div class="schedule-item" data-key="schedule3"></div>
        <div class="schedule-item" data-key="schedule4"></div>
        <div class="schedule-item" data-key="schedule5"></div>
        <div class="schedule-item" data-key="schedule6"></div>
      </div>
    </div>

    <div class="divider"></div>

    <!-- MAP -->
    <div class="section">
      <div class="title" id="mapTitle"></div>
      <p id="mapPlace"></p>

      <div class="map-box">
        <iframe src="https://www.google.com/maps?q=Diamond+Hall+Tashkent&output=embed"></iframe>
      </div>
    </div>

    <div class="divider"></div>

    <!-- RSVP -->
    <div class="rsvp-section">
      <div class="rsvp-title">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ</div>

      <form id="rsvpForm" class="rsvp-form">
        <input type="hidden" name="attendance" id="attendanceInput">

        <input type="text" id="guestName" name="name" placeholder="–í–∞—à–µ –∏–º—è" required>

        <div class="attendance-choice" id="attendanceBlock">
          <div class="choice-item yes" id="yesBtn" data-value="–ü—Ä–∏–¥—É —Å —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ–º">
            <svg viewBox="0 0 24 24">
              <path d="M12 21 C12 21 4 15.8 4 10 C4 7.2 6.2 5 9 5 C10.7 5 12 6.1 12 6.1 C12 6.1 13.3 5 15 5 C17.8 5 20 7.2 20 10 C20 15.8 12 21 12 21Z"/>
            </svg>
            <span>–ü—Ä–∏–¥—É<br>—Å —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ–º</span>
          </div>

          <div class="choice-item no" id="noBtn" data-value="–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –Ω–µ —Å–º–æ–≥—É">
            <svg viewBox="0 0 24 24">
              <path d="M6 6L18 18M18 6L6 18"/>
            </svg>
            <span>–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é,<br>–Ω–µ —Å–º–æ–≥—É</span>
          </div>
        </div>

        <select name="food" required>
          <option value="">–ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –ø–æ –µ–¥–µ</option>
          <option value="–ë–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π">–ë–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π</option>
          <option value="–ù–µ –µ–º –º—è—Å–æ">–ù–µ –µ–º –º—è—Å–æ</option>
          <option value="–ù–µ –µ–º —Ä—ã–±—É">–ù–µ –µ–º —Ä—ã–±—É</option>
          <option value="–í–µ–≥–µ—Ç–∞—Ä–∏–∞–Ω–µ—Ü">–í–µ–≥–µ—Ç–∞—Ä–∏–∞–Ω–µ—Ü</option>
        </select>

        <select name="alcohol" required>
          <option value="">–ê–ª–∫–æ–≥–æ–ª—å</option>
          <option value="–í–∏–Ω–æ">–í–∏–Ω–æ</option>
          <option value="–®–∞–º–ø–∞–Ω—Å–∫–æ–µ">–®–∞–º–ø–∞–Ω—Å–∫–æ–µ</option>
          <option value="–í–∏—Å–∫–∏ / –ö–æ–Ω—å—è–∫">–í–∏—Å–∫–∏ / –ö–æ–Ω—å—è–∫</option>
          <option value="–í–æ–¥–∫–∞">–í–æ–¥–∫–∞</option>
          <option value="–ù–µ –ø—å—é –∞–ª–∫–æ–≥–æ–ª—å">–ù–µ –ø—å—é –∞–ª–∫–æ–≥–æ–ª—å</option>
        </select>

        <textarea name="music" placeholder="–¢—Ä–µ–∫ / –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å / –ñ–∞–Ω—Ä" rows="3"></textarea>

        <button type="submit" id="sendBtn" class="rsvp-submit" disabled>–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
      </form>
    </div>

  </div>

  <!-- Music -->
  <div id="musicBtn" class="music-btn">–í–∫–ª—é—á–∏—Ç—å –º—É–∑—ã–∫—É</div>

  <audio id="bgMusic" preload="auto" loop>
    <source src="music/song.mp3" type="audio/mpeg">
  </audio>

  <script src="music.js"></script>

  <!-- Thank Overlay -->
  <div id="thankOverlay" class="thank-overlay">
    <div class="thank-box">
      <div id="thankText"></div>
      <button class="close-btn" id="thankClose">–ó–∞–∫—Ä—ã—Ç—å</button>
    </div>
  </div>

  <canvas id="confettiCanvas"></canvas>

  <script>
    const texts = {
      ru: {
        coupleTitle: "–ñ–µ–Ω–∏—Ö –∏ –Ω–µ–≤–µ—Å—Ç–∞",
        groomRole: "–ñ–µ–Ω–∏—Ö",
        brideRole: "–ù–µ–≤–µ—Å—Ç–∞",
        storyTitle: "–ù–∞—à–∞ –∏—Å—Ç–æ—Ä–∏—è",
        storyText: "–ò—Ö –≤—Å—Ç—Ä–µ—á–∞ –Ω–∞—á–∞–ª–∞—Å—å —Å –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–æ–≥—É–ª–∫–∏, —Å—Ç–∞–≤—à–µ–π –æ—Å–æ–±–µ–Ω–Ω–æ–π ‚Äî —Å–º–µ—Ö, —Ä–∞–∑–≥–æ–≤–æ—Ä—ã –∏ —Å–µ—Ä–¥—Ü–µ, –∫–æ—Ç–æ—Ä–æ–µ –æ–Ω–∞ –ø—Ä–∏–Ω—è–ª–∞ –Ω–µ —Å—Ä–∞–∑—É. –û—Ç–º–µ–Ω—ë–Ω–Ω–æ–µ –∫–∏–Ω–æ –ø—Ä–∏–≤–µ–ª–æ –∏—Ö –≤ –≥–æ—Ä—ã, –∫ –∑–≤—ë–∑–¥–∞–º –∏ –ø–µ—Ä–≤–æ–º—É –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—é –≤–¥–≤–æ—ë–º.<br><br>–ü–æ–¥ –Ω–æ—á–Ω—ã–º –Ω–µ–±–æ–º –æ–Ω–∏ –∑–∞–≥–∞–¥–∞–ª–∏ –æ–¥–Ω–æ –∂–µ–ª–∞–Ω–∏–µ ‚Äî –±—ã—Ç—å –≤–º–µ—Å—Ç–µ –≤—Å–µ–≥–¥–∞.",
        giftsTitle: "–ü–æ–∂–µ–ª–∞–Ω–∏—è –ø–æ –ø–æ–¥–∞—Ä–∫–∞–º",
        giftsText: "–°–∞–º—ã–π —Ü–µ–Ω–Ω—ã–π –ø–æ–¥–∞—Ä–æ–∫ –¥–ª—è –Ω–∞—Å ‚Äî –≤–∞—à–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ. –ü—Ä–æ—Å–∏–º –≤–æ–∑–¥–µ—Ä–∂–∞—Ç—å—Å—è –æ—Ç –∂–∏–≤—ã—Ö —Ü–≤–µ—Ç–æ–≤.",
        dressTitle: "Dress Code",
        dressText: "–ë—É–¥–µ–º –±–ª–∞–≥–æ–¥–∞—Ä–Ω—ã, –µ—Å–ª–∏ –≤—ã –ø—Ä–∏–¥–µ—Ä–∂–∏—Ç–µ—Å—å —ç—Ç–æ–π –ø–∞–ª–∏—Ç—Ä—ã:",
        scheduleTitle: "–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ",
        schedule1: "18:00 ‚Äî –°–±–æ—Ä –≥–æ—Å—Ç–µ–π",
        schedule2: "19:00 ‚Äî –ù–∞—á–∞–ª–æ –±–∞–Ω–∫–µ—Ç–∞",
        schedule3: "20:00 ‚Äî MilanBand",
        schedule4: "21:00 ‚Äî –¢–∞–Ω–µ—Ü –º–æ–ª–æ–¥—ã—Ö",
        schedule5: "22:00 ‚Äî –î–∏—Å–∫–æ—Ç–µ–∫–∞",
        schedule6: "23:00 ‚Äî –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ",
        mapTitle: "–ö–∞–∫ –Ω–∞—Å –Ω–∞–π—Ç–∏",
        mapPlace: "–¢–∞—à–∫–µ–Ω—Ç, Diamond Hall",
        posterInvite: "–ú—ã –±—É–¥–µ–º —Ä–∞–¥—ã —Ä–∞–∑–¥–µ–ª–∏—Ç—å —Å –≤–∞–º–∏ —ç—Ç–æ—Ç –æ—Å–æ–±–µ–Ω–Ω—ã–π –¥–µ–Ω—å. –ü—Ä–∏–≥–ª–∞—à–∞–µ–º –≤–∞—Å —Å—Ç–∞—Ç—å —á–∞—Å—Ç—å—é –Ω–∞—à–µ–π –∏—Å—Ç–æ—Ä–∏–∏ –∏ –≤–º–µ—Å—Ç–µ –æ—Ç–ø—Ä–∞–∑–¥–Ω–æ–≤–∞—Ç—å –Ω–∞—á–∞–ª–æ –Ω–æ–≤–æ–π –≥–ª–∞–≤—ã –Ω–∞—à–µ–π –∂–∏–∑–Ω–∏."
      },

      uz: {
        coupleTitle: "Kuyov va Kelin",
        groomRole: "Kuyov",
        brideRole: "Kelin",
        storyTitle: "Bizning hikoyamiz",
        storyText: "Ularning uchrashuvi oddiy sayrdan boshlandi, ammo tez orada o‚Äòziga xos bo‚Äòlib qoldi ‚Äî kulgu, suhbatlar va u darhol qabul qilmagan yurak. Bekor bo‚Äòlgan kino ularni tog‚Äòlarga, yulduzlarga va birinchi birga sayohatga olib bordi.<br><br>Tungi osmon ostida ular bitta tilak tilashdi ‚Äî har doim birga bo‚Äòlish.",
        giftsTitle: "Sovg‚Äòalar haqida",
        giftsText: "Biz uchun eng qimmat sovg‚Äòa ‚Äî sizning ishtirokingiz. Iltimos, tirik gullarsiz.",
        dressTitle: "Dress Code",
        dressText: "Ushbu ranglarga amal qilsangiz xursand bo‚Äòlamiz:",
        scheduleTitle: "Dastur",
        schedule1: "18:00 ‚Äî Mehmonlarni kutib olish",
        schedule2: "19:00 ‚Äî Banket boshlanishi",
        schedule3: "20:00 ‚Äî Milan Band Guruh",
        schedule4: "21:00 ‚Äî Toy raqsi",
        schedule5: "22:00 ‚Äî Diskoteka",
        schedule6: "23:00 ‚Äî Yakunlanish",
        mapTitle: "Qanday topish mumkin",
        mapPlace: "Toshkent, Diamond Hall",
        posterInvite: "Biz bilan ushbu unutilmas kunni birga nishonlang. Sizni nikoh to‚Äòyimizga taklif qilamiz va aziz mehmonlarimiz orasida ko‚Äòrishdan mamnun bo‚Äòlamiz."
      },

      en: {
        coupleTitle: "The couple",
        groomRole: "Groom",
        brideRole: "Bride",
        storyTitle: "Our Story",
        storyText: "Their meeting began with a simple walk that quickly became special ‚Äî laughter, conversations, and a heart she didn‚Äôt accept right away. A canceled movie led them to the mountains, the stars, and their first journey together.<br><br>Under the night sky, they made one wish ‚Äî to be together always.",
        giftsTitle: "Gifts",
        giftsText: "The best gift for us is your presence. Please no fresh flowers.",
        dressTitle: "Dress Code",
        dressText: "We would appreciate if you follow this color palette:",
        scheduleTitle: "Schedule",
        schedule1: "6:00 PM ‚Äî Guests Arrive",
        schedule2: "7:00 PM ‚Äî Wedding Reception Begins",
        schedule3: "8:00 PM ‚Äî Live Music: Milan Band",
        schedule4: "9:00 PM ‚Äî First Dance",
        schedule5: "10:00 PM ‚Äî Party Time",
        schedule6: "11:00 PM ‚Äî Celebration Ends",
        mapTitle: "How to find us",
        mapPlace: "Tashkent, Diamond Hall",
        posterInvite: "We would be happy to share this special day with you. We warmly invite you to our wedding celebration and would be honored to have you with us on this unforgettable day."
      }
    };

    function setLang(lang) {
      localStorage.setItem("lang", lang);

      document.querySelectorAll(".lang-switch span").forEach(el => {
        el.classList.remove("active");
      });

      const activeLang = document.getElementById(`lang-${lang}`);
      if (activeLang) activeLang.classList.add("active");

      const t = texts[lang];

      function setText(id, value) {
        const el = document.getElementById(id);
        if (el && value !== undefined) el.innerText = value;
      }

      const storyText = document.getElementById("storyText");
      if (storyText && t.storyText) storyText.innerHTML = t.storyText;

      setText("posterInvite", t.posterInvite);
      setText("storyTitle", t.storyTitle);
      setText("coupleTitle", t.coupleTitle);
      setText("groomRole", t.groomRole);
      setText("brideRole", t.brideRole);
      setText("giftsTitle", t.giftsTitle);
      setText("giftsText", t.giftsText);
      setText("dressTitle", t.dressTitle);
      setText("dressText", t.dressText);
      setText("scheduleTitle", t.scheduleTitle);
      setText("mapTitle", t.mapTitle);
      setText("mapPlace", t.mapPlace);

      const scheduleItems = document.querySelectorAll(".schedule-item");
      scheduleItems.forEach((item, index) => {
        const key = item.dataset.key;
        if (!t[key]) return;

        const parts = t[key].split("‚Äî");
        const time = parts[0]?.trim() || "";
        const event = parts[1]?.trim() || "";

        item.innerHTML = `
          <span class="schedule-time">${time}</span>
          <span class="schedule-event">${event}</span>
        `;

        item.classList.remove("show");
        setTimeout(() => item.classList.add("show"), index * 120);
      });
    }

    document.addEventListener("DOMContentLoaded", () => {
      const savedLang = localStorage.getItem("lang") || "ru";
      setLang(savedLang);
    });

    function toggleStory(section) {
      section.classList.toggle("open");
    }
  </script>

  <!-- Scroll animation -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const sections = document.querySelectorAll(".section");

      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            setTimeout(() => entry.target.classList.add("visible"), 100);
            observer.unobserve(entry.target);
          }
        });
      }, { threshold: 0.2 });

      sections.forEach(section => observer.observe(section));
    });
  </script>

  <!-- RSVP logic -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const form = document.getElementById("rsvpForm");
      const sendBtn = document.getElementById("sendBtn");

      const buttons = document.querySelectorAll(".choice-item");
      const attendanceInput = document.getElementById("attendanceInput");

      const nameInput = form.querySelector('[name="name"]');
      const foodSelect = form.querySelector('[name="food"]');
      const alcoholSelect = form.querySelector('[name="alcohol"]');
      const musicInput = form.querySelector('[name="music"]');

      sendBtn.disabled = true;

      buttons.forEach(btn => {
        btn.addEventListener("click", () => {
          buttons.forEach(b => b.classList.remove("active"));
          btn.classList.add("active");
          attendanceInput.value = btn.dataset.value;
          checkFormComplete();
        });
      });

      function checkFormComplete() {
        const isComplete =
          nameInput.value.trim() &&
          attendanceInput.value &&
          foodSelect.value &&
          alcoholSelect.value &&
          musicInput.value.trim();

        sendBtn.disabled = !isComplete;
      }

      [nameInput, foodSelect, alcoholSelect, musicInput].forEach(el => {
        el.addEventListener("input", checkFormComplete);
        el.addEventListener("change", checkFormComplete);
      });

      form.addEventListener("submit", e => {
        e.preventDefault();
        if (sendBtn.disabled) return;

        const data = new URLSearchParams({
          name: nameInput.value,
          attendance: attendanceInput.value,
          food: foodSelect.value,
          alcohol: alcoholSelect.value,
          music: musicInput.value
        });

        fetch("https://script.google.com/macros/s/AKfycbx9c83zfET0yo8susJf-pCM306ctHRNjuE0w1P_deXi1rSoTqgN-u8gbMMYHw2RhihL/exec", {
          method: "POST",
          headers: { "Content-Type": "application/x-www-form-urlencoded" },
          body: data.toString()
        }).then(() => {
          const guestName = nameInput.value.trim();
          const overlay = document.getElementById("thankOverlay");
          const text = document.getElementById("thankText");
          const closeBtn = document.getElementById("thankClose");

          text.innerHTML = `–°–ø–∞—Å–∏–±–æ, <b>${guestName}</b> ü§ç<br>–ë—É–¥–µ–º –∂–¥–∞—Ç—å –≤–∞—Å!`;
          overlay.classList.add("show");

          startCelebration();

          closeBtn.onclick = () => {
            overlay.classList.remove("show");
            stopCelebration();
          };

          form.reset();
          sendBtn.disabled = true;
          attendanceInput.value = "";
          buttons.forEach(b => b.classList.remove("active"));
        });
      });
    });
  </script>

  <!-- Confetti hearts -->
  <script>
    const canvas = document.getElementById("confettiCanvas");
    const ctx = canvas.getContext("2d");

    function resizeCanvas() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }
    resizeCanvas();
    window.addEventListener("resize", resizeCanvas);

    let particles = [];
    let celebrationInterval = null;
    let animationRunning = false;

    function createFirework(side) {
      const count = 30;
      const x = side === "left" ? 0 : canvas.width;
      const angleBase = side === "left" ? 0 : Math.PI;

      for (let i = 0; i < count; i++) {
        const angle = angleBase + (Math.random() - 0.5);
        const speed = Math.random() * 6 + 4;

        particles.push({
          x,
          y: Math.random() * canvas.height * 0.6 + canvas.height * 0.2,
          vx: Math.cos(angle) * speed,
          vy: Math.sin(angle) * speed,
          gravity: 0.08,
          life: 100,
          size: Math.random() * 6 + 6,
          color: Math.random() > 0.5 ? "#ffffff" : getComputedStyle(document.documentElement).getPropertyValue("--accent").trim()
        });
      }
    }

    function drawHeart(x, y, size, color) {
      ctx.save();
      ctx.translate(x, y);
      ctx.scale(size / 10, size / 10);

      ctx.beginPath();
      ctx.moveTo(0, -3);
      ctx.bezierCurveTo(-5, -8, -15, -2, 0, 10);
      ctx.bezierCurveTo(15, -2, 5, -8, 0, -3);
      ctx.closePath();

      ctx.fillStyle = color;
      ctx.fill();
      ctx.restore();
    }

    function updateParticles() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      particles.forEach((p, i) => {
        p.vy += p.gravity;
        p.x += p.vx;
        p.y += p.vy;
        p.life--;

        drawHeart(p.x, p.y, p.size, p.color);

        if (p.life <= 0) particles.splice(i, 1);
      });

      if (animationRunning) requestAnimationFrame(updateParticles);
    }

    function startCelebration() {
      if (celebrationInterval) return;

      animationRunning = true;

      celebrationInterval = setInterval(() => {
        createFirework("left");
        createFirework("right");
      }, 350);

      requestAnimationFrame(updateParticles);
    }

    function stopCelebration() {
      animationRunning = false;
      clearInterval(celebrationInterval);
      celebrationInterval = null;
      particles = [];
      ctx.clearRect(0, 0, canvas.width, canvas.height);
    }
  </script>

</body>
</html>
